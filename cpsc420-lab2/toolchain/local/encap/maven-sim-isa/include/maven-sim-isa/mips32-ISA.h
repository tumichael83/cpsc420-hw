#ifndef __MIPS32ISA_H
#define __MIPS32ISA_H

#include "mipsdt.h"
#include "instruction.h"
#include "processor.h"

class MIPS32ISA
{
public:
  template <typename InstructionType, typename StateType>
  static void fill_dispatch_table(MIPSGenericDispatchTable<InstructionType, StateType>& dt);

  static MIPSGenericDispatchTable<MIPS32Instruction, MIPS32ProcessorState>& dt();
  static MIPSGenericDispatchTable<MavenCPInstruction, MavenCPState>& MavenCPdt();
  static MIPSGenericDispatchTable<MavenVPInstruction, MavenVPState>& MavenVPdt();
};

enum
{
  MIPS32_SPECIAL  = 0x00,
  MIPS32_REGIMM   = 0x01,
  MIPS32_J        = 0x02,
  MIPS32_JAL      = 0x03,
  MIPS32_BEQ      = 0x04,
  MIPS32_BNE      = 0x05,
  MIPS32_BLEZ     = 0x06,
  MIPS32_BGTZ     = 0x07,
  MIPS32_ADDI     = 0x08,
  MIPS32_ADDIU    = 0x09,
  MIPS32_SLTI     = 0x0A,
  MIPS32_SLTIU    = 0x0B,
  MIPS32_ANDI     = 0x0C,
  MIPS32_ORI      = 0x0D,
  MIPS32_XORI     = 0x0E,
  MIPS32_LUI      = 0x0F,
  MIPS32_COP0     = 0x10,
  MIPS32_COP1     = 0x11,
  MIPS32_COP2     = 0x12,
  MIPS32_COP1X    = 0x13,
  MIPS32_BEQL     = 0x14,
  MIPS32_BNEL     = 0x15,
  MIPS32_BLEZL    = 0x16,
  MIPS32_BGTZL    = 0x17,
  MIPS32_SPECIAL2 = 0x1C,
  MIPS32_JALX     = 0x1D,
  MIPS32_SPECIAL3 = 0x1F,
  MIPS32_LB       = 0x20,
  MIPS32_LH       = 0x21,
  MIPS32_LWL      = 0x22,
  MIPS32_LW       = 0x23,
  MIPS32_LBU      = 0x24,
  MIPS32_LHU      = 0x25,
  MIPS32_LWR      = 0x26,
  MIPS32_SB       = 0x28,
  MIPS32_SH       = 0x29,
  MIPS32_SWL      = 0x2A,
  MIPS32_SW       = 0x2B,
  MIPS32_SWR      = 0x2E,
  MIPS32_CACHE    = 0x2F,
  MIPS32_LL       = 0x30,
  MIPS32_LWC1     = 0x31,
  MIPS32_LWC2     = 0x32,
  MIPS32_PREF     = 0x33,
  MIPS32_LDC1     = 0x35,
  MIPS32_LDC2     = 0x36,
  MIPS32_SC       = 0x38,
  MIPS32_SWC1     = 0x39,
  MIPS32_SWC2     = 0x3A,
  MIPS32_SDC1     = 0x3D,
  MIPS32_SDC2     = 0x3E,
};

enum
{
  MIPS32_SPECIAL_SLL     = 0x00,
  MIPS32_SPECIAL_MOVCI   = 0x01,
  MIPS32_SPECIAL_SRL     = 0x02,
  MIPS32_SPECIAL_SRA     = 0x03,
  MIPS32_SPECIAL_SLLV    = 0x04,
  MIPS32_SPECIAL_SRLV    = 0x06,
  MIPS32_SPECIAL_SRAV    = 0x07,
  MIPS32_SPECIAL_JR      = 0x08,
  MIPS32_SPECIAL_JALR    = 0x09,
  MIPS32_SPECIAL_MOVZ    = 0x0A,
  MIPS32_SPECIAL_MOVN    = 0x0B,
  MIPS32_SPECIAL_SYSCALL = 0x0C,
  MIPS32_SPECIAL_BREAK   = 0x0D,
  MIPS32_SPECIAL_SYNC    = 0x0F,
  MIPS32_SPECIAL_MFHI    = 0x10,
  MIPS32_SPECIAL_MTHI    = 0x11,
  MIPS32_SPECIAL_MFLO    = 0x12,
  MIPS32_SPECIAL_MTLO    = 0x13,
  MIPS32_SPECIAL_MULT    = 0x18,
  MIPS32_SPECIAL_MULTU   = 0x19,
  MIPS32_SPECIAL_DIV     = 0x1A,
  MIPS32_SPECIAL_DIVU    = 0x1B,
  MIPS32_SPECIAL_ADD     = 0x20,
  MIPS32_SPECIAL_ADDU    = 0x21,
  MIPS32_SPECIAL_SUB     = 0x22,
  MIPS32_SPECIAL_SUBU    = 0x23,
  MIPS32_SPECIAL_AND     = 0x24,
  MIPS32_SPECIAL_OR      = 0x25,
  MIPS32_SPECIAL_XOR     = 0x26,
  MIPS32_SPECIAL_NOR     = 0x27,
  MIPS32_SPECIAL_SLT     = 0x2A,
  MIPS32_SPECIAL_SLTU    = 0x2B,
  MIPS32_SPECIAL_TGE     = 0x30,
  MIPS32_SPECIAL_TGEU    = 0x31,
  MIPS32_SPECIAL_TLT     = 0x32,
  MIPS32_SPECIAL_TLTU    = 0x33,
  MIPS32_SPECIAL_TEQ     = 0x34,
  MIPS32_SPECIAL_TNE     = 0x36,
};

enum
{
  MIPS32_SPECIAL_MOVCI_MOVF = 0x0,
  MIPS32_SPECIAL_MOVCI_MOVT = 0x1,
};

enum
{
  MIPS32_REGIMM_BLTZ    = 0x00,
  MIPS32_REGIMM_BGEZ    = 0x01,
  MIPS32_REGIMM_BLTZL   = 0x02,
  MIPS32_REGIMM_BGEZL   = 0x03,
  MIPS32_REGIMM_TGEI    = 0x08,
  MIPS32_REGIMM_TGEIU   = 0x09,
  MIPS32_REGIMM_TLTI    = 0x0A,
  MIPS32_REGIMM_TLTIU   = 0x0B,
  MIPS32_REGIMM_TEQI    = 0x0C,
  MIPS32_REGIMM_TNEI    = 0x0D,
  MIPS32_REGIMM_BLTZAL  = 0x10,
  MIPS32_REGIMM_BGEZAL  = 0x11,
  MIPS32_REGIMM_BLTZALL = 0x12,
  MIPS32_REGIMM_BGEZALL = 0x13,
  MIPS32_REGIMM_SYNCI   = 0x1F,
};

enum
{
  MIPS32_COP1_MFC1 = 0x00,
  MIPS32_COP1_CFC1 = 0x02,
  MIPS32_COP1_MTC1 = 0x04,
  MIPS32_COP1_CTC1 = 0x06,
  MIPS32_COP1_BC1  = 0x08,
  MIPS32_COP1_S    = 0x10,
  MIPS32_COP1_D    = 0x11,
  MIPS32_COP1_W    = 0x14,
};

enum
{
  MIPS32_COP1_BC1_BC1F  = 0x0,
  MIPS32_COP1_BC1_BC1T  = 0x1,
  MIPS32_COP1_BC1_BC1FL = 0x2,
  MIPS32_COP1_BC1_BC1TL = 0x3,
};

enum
{
  MIPS32_COP1_S_ADD     = 0x00,
  MIPS32_COP1_S_SUB     = 0x01,
  MIPS32_COP1_S_MUL     = 0x02,
  MIPS32_COP1_S_DIV     = 0x03,
  MIPS32_COP1_S_SQRT    = 0x04,
  MIPS32_COP1_S_ABS     = 0x05,
  MIPS32_COP1_S_MOV     = 0x06,
  MIPS32_COP1_S_NEG     = 0x07,
  MIPS32_COP1_S_ROUND_W = 0x0C,
  MIPS32_COP1_S_TRUNC_W = 0x0D,
  MIPS32_COP1_S_CEIL_W  = 0x0E,
  MIPS32_COP1_S_FLOOR_W = 0x0F,
  MIPS32_COP1_S_MOVCF   = 0x11,
  MIPS32_COP1_S_MOVZ    = 0x12,
  MIPS32_COP1_S_MOVN    = 0x13,
  MIPS32_COP1_S_CVT_D   = 0x21,
  MIPS32_COP1_S_CVT_W   = 0x24,
  MIPS32_COP1_S_C_F     = 0x30,
  MIPS32_COP1_S_C_UN    = 0x31,
  MIPS32_COP1_S_C_EQ    = 0x32,
  MIPS32_COP1_S_C_UEQ   = 0x33,
  MIPS32_COP1_S_C_OLT   = 0x34,
  MIPS32_COP1_S_C_ULT   = 0x35,
  MIPS32_COP1_S_C_OLE   = 0x36,
  MIPS32_COP1_S_C_ULE   = 0x37,
  MIPS32_COP1_S_C_SF    = 0x38,
  MIPS32_COP1_S_C_NGLE  = 0x39,
  MIPS32_COP1_S_C_SEQ   = 0x3A,
  MIPS32_COP1_S_C_NGL   = 0x3B,
  MIPS32_COP1_S_C_LT    = 0x3C,
  MIPS32_COP1_S_C_NGE   = 0x3D,
  MIPS32_COP1_S_C_LE    = 0x3E,
  MIPS32_COP1_S_C_NGT   = 0x3F,
};

enum
{
  MIPS32_COP1_S_MOVCF_MOVF  = 0x0,
  MIPS32_COP1_S_MOVCF_MOVT  = 0x1,
};

enum
{
  MIPS32_COP1_D_ADD     = 0x00,
  MIPS32_COP1_D_SUB     = 0x01,
  MIPS32_COP1_D_MUL     = 0x02,
  MIPS32_COP1_D_DIV     = 0x03,
  MIPS32_COP1_D_SQRT    = 0x04,
  MIPS32_COP1_D_ABS     = 0x05,
  MIPS32_COP1_D_MOV     = 0x06,
  MIPS32_COP1_D_NEG     = 0x07,
  MIPS32_COP1_D_ROUND_W = 0x0C,
  MIPS32_COP1_D_TRUNC_W = 0x0D,
  MIPS32_COP1_D_CEIL_W  = 0x0E,
  MIPS32_COP1_D_FLOOR_W = 0x0F,
  MIPS32_COP1_D_MOVCF   = 0x11,
  MIPS32_COP1_D_MOVZ    = 0x12,
  MIPS32_COP1_D_MOVN    = 0x13,
  MIPS32_COP1_D_CVT_S   = 0x20,
  MIPS32_COP1_D_CVT_W   = 0x24,
  MIPS32_COP1_D_C_F     = 0x30,
  MIPS32_COP1_D_C_UN    = 0x31,
  MIPS32_COP1_D_C_EQ    = 0x32,
  MIPS32_COP1_D_C_UEQ   = 0x33,
  MIPS32_COP1_D_C_OLT   = 0x34,
  MIPS32_COP1_D_C_ULT   = 0x35,
  MIPS32_COP1_D_C_OLE   = 0x36,
  MIPS32_COP1_D_C_ULE   = 0x37,
  MIPS32_COP1_D_C_SF    = 0x38,
  MIPS32_COP1_D_C_NGLE  = 0x39,
  MIPS32_COP1_D_C_SEQ   = 0x3A,
  MIPS32_COP1_D_C_NGL   = 0x3B,
  MIPS32_COP1_D_C_LT    = 0x3C,
  MIPS32_COP1_D_C_NGE   = 0x3D,
  MIPS32_COP1_D_C_LE    = 0x3E,
  MIPS32_COP1_D_C_NGT   = 0x3F,
};

enum
{
  MIPS32_COP1_D_MOVCF_MOVF  = 0x0,
  MIPS32_COP1_D_MOVCF_MOVT  = 0x1,
};

enum
{
  MIPS32_COP1_W_CVT_S   = 0x20,
  MIPS32_COP1_W_CVT_D   = 0x21,
};

enum
{
  MIPS32_COP2_MFC2  = 0x00,
  MIPS32_COP2_CFC2  = 0x02,
  MIPS32_COP2_MFHC2 = 0x03,
  MIPS32_COP2_MTC2  = 0x04,
  MIPS32_COP2_CTC2  = 0x06,
  MIPS32_COP2_MTHC2 = 0x07,
  MIPS32_COP2_BC2   = 0x08,
};

enum
{
  MIPS32_COP2_BC2_BC2F  = 0x0,
  MIPS32_COP2_BC2_BC2T  = 0x1,
  MIPS32_COP2_BC2_BC2FL = 0x2,
  MIPS32_COP2_BC2_BC2TL = 0x3,
};

enum
{
  MIPS32_SPECIAL2_MADD  = 0x00,
  MIPS32_SPECIAL2_MADDU = 0x01,
  MIPS32_SPECIAL2_MUL   = 0x02,
  MIPS32_SPECIAL2_MSUB  = 0x04,
  MIPS32_SPECIAL2_MSUBU = 0x05,
  MIPS32_SPECIAL2_CLZ   = 0x20,
  MIPS32_SPECIAL2_CLO   = 0x21,
};

#endif // __MIPS32ISA_H
